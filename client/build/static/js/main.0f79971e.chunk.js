(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(8),s=n.n(o),i=(n(16),n(17),n(7)),u=n(4),l=n(2),d=n.n(l),p=n(6),j=n(5),b=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"post",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=Object(j.b)("signupUser",function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/signup",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(j.b)("signinUser",function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/signin",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(j.c)({name:"user",initialState:{token:"",loading:!1,error:""},reducers:{addToken:function(e,t){e.token=localStorage.getItem("token")},logout:function(e,t){e.token=null,localStorage.removeItem("token")}},extraReducers:(r={},Object(u.a)(r,O.fulfilled,(function(e,t){var n=t.payload,r=n.error,a=n.message;e.loading=!1,e.error=r||a})),Object(u.a)(r,O.pending,(function(e,t){e.loading=!0})),Object(u.a)(r,h.fulfilled,(function(e,t){var n=t.payload,r=n.error,a=n.token;e.loading=!1,r?e.error=r:(e.token=a,e.error="Login Success! Welcome Back",localStorage.setItem("token",a))})),Object(u.a)(r,h.pending,(function(e,t){e.loading=!0})),r)}),v=m.actions,x=v.addToken,g=v.logout,k=m.reducer,w=n(3),y=n(1);var N,S=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),o=Object(i.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)("signIn"),d=Object(i.a)(l,2),p=d[0],j=d[1],b=Object(w.c)((function(e){return e.user})),f=b.loading,m=b.error,v=Object(w.b)();return Object(y.jsxs)("div",{children:[f&&Object(y.jsx)("div",{className:"progress purple accent-3",children:Object(y.jsx)("div",{className:"indeterminate"})}),Object(y.jsxs)("h1",{className:"text-capital",children:["Please ",p,"! "]}),m&&Object(y.jsx)("h5",{className:"text-capital",children:Object(y.jsx)("b",{className:"white-text purple darken-4 errorShow",children:m})}),Object(y.jsxs)("div",{className:"row card-panel grey lighten-5 z-depth-1",children:[Object(y.jsx)("div",{className:"input-field col s12",children:Object(y.jsx)("input",{type:"email",name:"email",className:"validate",placeholder:"Email",value:n,onChange:function(e){return r(e.target.value)},id:"emailLabel"})}),Object(y.jsx)("div",{className:"input-field col s12",children:Object(y.jsx)("input",{type:"password",name:"password",className:"validate",placeholder:"Password",value:s,onChange:function(e){return u(e.target.value)},id:"passwordLabel"})})]}),"signIn"===p?Object(y.jsxs)("h6",{children:["Don't have an account? ",Object(y.jsx)("span",{onClick:function(){return j("signUp")},className:"purple-text text-darken-3",children:Object(y.jsx)("b",{children:"Create One"})})]}):Object(y.jsxs)("h6",{children:["Already Have an account? ",Object(y.jsx)("span",{onClick:function(){return j("signIn")},className:"purple-text text-darken-3",children:Object(y.jsx)("b",{children:"Login"})})]}),Object(y.jsx)("button",{className:"btn purple accent-3",onClick:function(){v("signIn"===p?h({email:n,password:s}):O({email:n,password:s}))},children:p})]})},C=Object(j.b)("createtodo",function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/createtodo",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(j.b)("gettodo",Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/gettodos","get");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),T=Object(j.b)("deletetodo",function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/remove/".concat(t),"delete");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(j.c)({name:"todo",initialState:[],reducers:{},extraReducers:(N={},Object(u.a)(N,C.fulfilled,(function(e,t){var n=t.payload.message;n&&e.push(n)})),Object(u.a)(N,I.fulfilled,(function(e,t){return t.payload.message})),Object(u.a)(N,T.fulfilled,(function(e,t){var n=t.payload.message;return e.filter((function(e){return e._id!==n._id}))})),N)}).reducer;var z=function(){var e=Object(w.b)(),t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(w.c)((function(e){return e.todos}));return Object(a.useEffect)((function(){e(I())}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{className:"btn purple accent-3",onClick:function(){e(g())},children:"Logout"}),Object(y.jsx)("input",{type:"text",value:r,onChange:function(e){return c(e.target.value)},name:"",id:"",placeholder:"What's in your TO-DO list?"}),Object(y.jsx)("button",{className:"btn purple accent-3",onClick:function(){return e(C({todo:r})),void c("")},children:"Create To-Do"}),Object(y.jsx)("br",{}),Object(y.jsx)("ul",{className:"collection card-panel z-depth-1",children:o.map((function(t){return Object(y.jsx)("li",{onClick:function(){var n;n=t._id,e(T(n))},className:"collection-item",children:t.todo},t._id)}))})]})};var A=function(){var e=Object(w.b)();Object(a.useEffect)((function(){e(x())}),[]);var t=Object(w.c)((function(e){return e.user})).token;return Object(y.jsx)("div",{className:"App",children:t?Object(y.jsx)(z,{}):Object(y.jsx)(S,{})})},E=Object(j.a)({reducer:{user:k,todos:L}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(w.a,{store:E,children:Object(y.jsx)(A,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.0f79971e.chunk.js.map